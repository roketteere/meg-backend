<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0,shrink-to-fit=no" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous" />
    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js"
      integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
      crossorigin="anonymous"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"
      integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
      crossorigin="anonymous"></script>
    <title>Meg Back End</title>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <a class="navbar-brand" href="#">Dashboard: Routes Menu</a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" href="/">Root</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/user_help.html">User / Signup</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/login_help.html">Login</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/logout_help.html">Logout</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/er_help.html">Emergency</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/journey_help.html">Journey</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/experience_help.html">Experience</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/rating_help.html">Rating</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/gps_help.html">GPS</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="/sms_help.html">SMS_Twilio</a>
          </li><li class="nav-item">
            <a class="nav-link" href="/auth_help.html">Auth</a>
          </li>
        </ul>
      </div>
    </nav>
    <div>
      <h2 class="m-2 p2">Welcome to the MEG App Back End</h2>
    </div>
    <div class="container">
      <h1>SMS_Twilio Route Info</h1>
      <h3>Code Description:</h3>
      <pre class="bg-light p-2">
<code>
// Download the helper library from https://www.twilio.com/docs/node/install
// Set environment variables for your credentials
// Read more at http://twil.io/secure
require("dotenv").config();
const accountSid = process.env.TWILIO_ACCOUNT_SID;
const authToken = process.env.TWILIO_AUTH_TOKEN;
const client = require("twilio")(accountSid, authToken, {
  username: accountSid,
});

const sampleText =
  "Hello this is Joel from My E-Guardian App. I am sending you this message to let you know that your loved one has left the house. !!! MEG SMS DEMO TEST !!!";

async function sendText(message, from, to) {
  // const coords = localStorage.getItem("checkItems");
  await client.messages
    .create({
      body: message,
      from: from,
      to: to,
    })
    .then((message) => console.log(message));
}

sendText(
  "Hey this is just a Saturday",
  process.env.TWILIO_FROM_NUMBER,
  process.env.TWILIO_TO_NUMBER
);
</code>
      </pre>
      <h3>Rendered Output:</h3>
      <p>
        The above code demonstrates how to use the Twilio API in Node.js to send
        an SMS message. The code requires the Twilio helper library, and it uses
        environment variables to store the account SID and auth token. The code
        defines a function called `sendText` that takes the message content,
        sender number, and recipient number as parameters. It uses the Twilio
        client to create a new message with the specified details and sends it.
        In the example, the function is called with sample text and the Twilio
        phone numbers retrieved from the environment variables. The rendered
        output will be the successful response object returned by the Twilio API
        after sending the message.
      </p>
    </div>
  </body>
</html>
